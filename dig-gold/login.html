<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device,user-scalable=no,
  initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <title>Document</title>
  <link rel="stylesheet" href="CSS/reset.css">
  <link rel="stylesheet" href="CSS/login.css">
  <link rel="stylesheet" href="./CSS/fa/css/all.css">
</head>
<!--login-->
<div class="form-container">
  <div class="form">
 <!-- <form id="form" class="form" action="http://127.0.0.1:3007/api/login" method="post">  -->
      <div class="form-title">
        <h2>sign in</h2>
      </div class="form-main">

      <div class="main-item">
        <input type="text" name="username" id="username" class="username" placeholder="Username...">
      </div>
      <div class="main-item">
        <input type="password" name="password" id="password" class="password" placeholder="Password...">
      </div>
      <div class="main-item">
        <a href="./register.html" class="register-account">Register an account</a>
      </div>
      <div class="main-item">
      <!-- <button type="submit" formaction="http://127.0.0.1:3007/api/login"  class="login-button" id="login" method="post">sign in</button> --> 
      <button class="login-button" id="login">sign in</button> 
      </div><div class="back">
        <a href="./home.html" class="back-home">
          返回首页
        </a>
      </div>
      <div id="informaintion-box">
        <div id="list-box"></div>
      </div>
    </form> 

  </div>
</div>

<body>
</body>
</html>



<script>
  //获取搜索框
  //var searchInp = document.getElementById('search');

  var buttonInp = document.getElementById('login')
  //获取提示文字的存放容器
  var listBox = document.getElementById('list-box');
  var passWord = document.getElementById('password');
  var userName = document.getElementById('username');


  buttonInp.onclick = function (){
    const xhr = new XMLHttpRequest();
    xhr.open('POST','http://127.0.0.1:3007/api/login');
    xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded');
    xhr.send("username="+userName.value +"&password="+passWord.value); //此处需要用到字符串的拼接
    xhr.onreadystatechange = function(){
      if(xhr.readyState === 4){
        if(xhr.status >= 200 && xhr.status <= 300){
          listBox.innerHTML = xhr.response;
        }
      }
    }
  }
</script>  